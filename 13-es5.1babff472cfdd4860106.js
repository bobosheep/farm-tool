function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"2MiI":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),r=n("wHSu"),o=n("ofXK"),a=n("tyNb"),c=n("Nv++");function s(e,t){if(1&e){var n=i.Qb();i.Pb(0,"fa-icon",10),i.Xb("click",(function(){return i.lc(n),i.Zb().goBack()})),i.Ob()}if(2&e){var r=i.Zb();i.fc("icon",r.faArrowLeft)}}function b(e,t){if(1&e&&(i.Nb(0),i.Lb(1,11),i.Mb()),2&e){var n=t.ngIf;i.zb(1),i.fc("ngTemplateOutlet",n)}}function l(e,t){if(1&e&&(i.Pb(0,"div",12),i.tc(1),i.Ob()),2&e){var n=i.Zb();i.zb(1),i.uc(n.title)}}function u(e,t){if(1&e&&(i.Nb(0),i.Lb(1,11),i.Mb()),2&e){var n=t.ngIf;i.zb(1),i.fc("ngTemplateOutlet",n)}}function p(e,t){if(1&e&&(i.Pb(0,"div",13),i.tc(1),i.Ob()),2&e){var n=i.Zb();i.zb(1),i.uc(n.subtitle)}}function m(e,t){if(1&e){var n=i.Qb();i.Pb(0,"fa-icon",14),i.Xb("click",(function(){return i.lc(n),i.Zb().onClickIcon()})),i.Ob()}if(2&e){var r=i.Zb();i.fc("icon",r.customIcon)}}function d(e,t){if(1&e&&(i.Nb(0),i.Lb(1,11),i.Mb()),2&e){var n=t.ngIf;i.zb(1),i.fc("ngTemplateOutlet",n)}}function f(e,t){if(1&e&&(i.Pb(0,"div",15),i.tc(1),i.Ob()),2&e){var n=i.Zb();i.zb(1),i.uc(n.customString)}}var v=function(){var e=function(){function e(t,n,o){_classCallCheck(this,e),this.location=t,this.router=n,this.route=o,this.faArrowLeft=r.a,this.align="center",this.showBackIcon=!0,this.showCustomIcon=!1,this.onClickBack=new i.n,this.onClickCustomIcon=new i.n}return _createClass(e,[{key:"goBack",value:function(){this.onClickBack.emit(!0),this.location.back()}},{key:"getTemplate",value:function(e){return e instanceof i.K?e:null}},{key:"onClickIcon",value:function(){this.onClickCustomIcon.emit(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Jb(o.g),i.Jb(a.c),i.Jb(a.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-header"]],inputs:{title:"title",subtitle:"subtitle",showBackIcon:"showBackIcon",showCustomIcon:"showCustomIcon",customIcon:"customIcon",customString:"customString",align:"align"},outputs:{onClickCustomIcon:"onClickCustomIcon",onClickBack:"onClickBack"},decls:15,vars:9,consts:[[1,"wrapper"],[1,"icon-wrapper","back"],[3,"icon","click",4,"ngIf"],[1,"content",3,"ngClass"],[4,"ngIf","ngIfElse"],["defaultTitle",""],["defaultSubtitle",""],[1,"icon-wrapper","custom-icon"],["class","icon",3,"icon","click",4,"ngIf"],["defaultCustomString",""],[3,"icon","click"],[3,"ngTemplateOutlet"],[1,"title"],[1,"subtitle"],[1,"icon",3,"icon","click"],[1,"custom-string"]],template:function(e,t){if(1&e&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.rc(2,s,1,1,"fa-icon",2),i.Ob(),i.Pb(3,"div",3),i.rc(4,b,2,1,"ng-container",4),i.rc(5,l,2,1,"ng-template",null,5,i.sc),i.rc(7,u,2,1,"ng-container",4),i.rc(8,p,2,1,"ng-template",null,6,i.sc),i.Ob(),i.Pb(10,"div",7),i.rc(11,m,1,1,"fa-icon",8),i.rc(12,d,2,1,"ng-container",4),i.rc(13,f,2,1,"ng-template",null,9,i.sc),i.Ob(),i.Ob()),2&e){var n=i.kc(6),r=i.kc(9),o=i.kc(14);i.zb(2),i.fc("ngIf",t.showBackIcon),i.zb(1),i.fc("ngClass",t.align),i.zb(1),i.fc("ngIf",t.getTemplate(t.title))("ngIfElse",n),i.zb(3),i.fc("ngIf",t.getTemplate(t.subtitle))("ngIfElse",r),i.zb(4),i.fc("ngIf",t.showCustomIcon),i.zb(1),i.fc("ngIf",t.getTemplate(t.customString))("ngIfElse",o)}},directives:[o.k,o.i,c.a,o.m],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:48px;display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}.content[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:auto 8px}.content.left[_ngcontent-%COMP%]{flex:1;flex-direction:row;justify-content:flex-start;align-items:center}.subtitle[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin:2px}.icon[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.custom-string[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{font-size:14px}.icon-wrapper[_ngcontent-%COMP%]{min-width:32px}"]}),e}()},mTXl:function(e,t,n){"use strict";n.r(t),n.d(t,"IncomeModule",(function(){return K}));var i,r,o=n("ofXK"),a=n("tyNb"),c=n("3Pt+"),s=n("fXoL"),b=n("uOO6"),l=((i=function(){function e(){_classCallCheck(this,e),this.potionHarvestRate=[0,50,100,150,200],this.seedLevels=[{id:0,name:"\u521d\u5b78\u8005",rainbow:0,premium:0},{id:1,name:"\u884c\u5bb6",rainbow:0,premium:25},{id:2,name:"\u5c08\u5bb6",rainbow:0,premium:40},{id:3,name:"\u9054\u4eba",rainbow:25,premium:55},{id:4,name:"\u738b",rainbow:30,premium:70},{id:5,name:"\u795e",rainbow:40,premium:85}],this.farmLevels=[{id:0,name:"\u5341\u5206\u8ca7\u7620\u7684\u8fb2\u7530",rainbow:0,harvestRate:0},{id:1,name:"\u7a0d\u5fae\u8ca7\u7620\u7684\u8fb2\u7530",rainbow:10,harvestRate:10},{id:2,name:"\u52c9\u5f37\u80fd\u4f7f\u7528\u7684\u8fb2\u7530",rainbow:20,harvestRate:20},{id:3,name:"\u7a0d\u5fae\u80a5\u6c83\u7684\u8fb2\u7530",rainbow:30,harvestRate:30},{id:4,name:"\u5341\u5206\u80a5\u6c83\u7684\u8fb2\u7530",rainbow:40,harvestRate:40},{id:5,name:"\u80a5\u6ecb\u6ecb\u7684\u8fb2\u7530",rainbow:50,harvestRate:50}],this.greenhouseLevels=[{id:0,name:"\u7121",harvestRate:0},{id:1,name:"\u7db2\u5ba4",harvestRate:10},{id:2,name:"\u6eab\u5ba4",harvestRate:20},{id:3,name:"\u52a0\u71b1\u6eab\u5ba4",harvestRate:30}]}return _createClass(e,[{key:"calcFarmCost",value:function(e,t,n,i,r,o){var a;return a=e+n+i*r+o,a+=Math.floor(t/3),Math.floor(a)}},{key:"calcHarvest",value:function(e,t,n,i,r,o,a){var c,s=e?3:10,b=t?1.25:1,l=this.farmLevels[i].harvestRate+this.greenhouseLevels[r].harvestRate,u=0,p=0,m=this.potionHarvestRate[a];return s+=n?2:0,o.forEach((function(e){e.harvestRate&&(p+=e.harvestRate),e.harvest&&(u+=e.harvest)})),c=(s+u)*(1+l/100)*(1+(p+m)/100)*b,Math.round(c)}},{key:"calcPremium",value:function(e,t,n){var i=this.seedLevels[t].premium;return i*=e?1.1:1,n.forEach((function(e){e.premium&&(i*=1+e.premium/100)})),i}},{key:"calcRainbow",value:function(e,t,n,i,r){var o=this.farmLevels[n].rainbow;return o*=1+this.seedLevels[t].rainbow/100,o*=e?1.1:1,i.forEach((function(e){e.rainbow&&(o*=1+e.rainbow/100)})),r&&(o=100),o=0===t?0:o}},{key:"calcProp",value:function(e,t,n){var i=Math.min(100,t),r=Math.min(100,n),o=e?.05:0,a=(1-(r/=100))*(1-o)+r*(1-(i/=100)),c=r*i*(1-o)+(1-r)*o,s=r*i*o;return{superiorProp:a=Math.round(1e4*a)/1e4,premiumProp:c=Math.round(1e4*c)/1e4,superiorPremiumProp:s=Math.round(1e4*s)/1e4}}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),u=n("jhN1"),p=n("2MiI"),m=n("wHSu"),d=n("Nv++"),f=((r=function(){function e(){_classCallCheck(this,e),this.cancel=new s.n,this.closeIcon=m.gb,this.benefitIcon=m.o}return _createClass(e,[{key:"ngOnInit",value:function(){this.farmNumber=60,this.priceAddition=250,this.setPrice(),this.isOpenDesc=!1}},{key:"setPrice",value:function(){this.sellPrice=this.data.expectedValue*(1+this.priceAddition/100),this.income=this.sellPrice*this.data.harvest-this.data.cost,this.total=this.income*this.farmNumber-this.otherCost}},{key:"closeModal",value:function(){this.cancel.emit(!0)}},{key:"setPriceAddition",value:function(e){this.setPrice()}},{key:"setFarmNumber",value:function(e){this.setPrice()}},{key:"toggleDescription",value:function(){this.isOpenDesc=!this.isOpenDesc}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=s.Db({type:r,selectors:[["app-result-modal"]],inputs:{data:"data",otherCost:"otherCost"},outputs:{cancel:"cancel"},decls:138,vars:77,consts:[[1,"modal"],[1,"background",3,"click"],[1,"wrapper"],[1,"header"],[1,"title"],[1,"content",3,"ngClass"],[1,"info"],[1,"label",2,"font-size","14px",3,"click"],[1,"toggle",3,"ngClass"],[1,"label"],[1,"detail"],[1,"description"],[1,"part","title"],[3,"icon"],[1,"content"],[1,"info","tune-part"],["type","range","min","-60","max","300","step","1",3,"ngModel","ngModelChange"],["type","range","min","1","max","60","step","1",3,"ngModel","ngModelChange"],[1,"footer"],[1,"button","close-button",3,"click"]],template:function(e,t){1&e&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Xb("click",(function(){return t.closeModal()})),s.Ob(),s.Pb(2,"div",2),s.Pb(3,"div",3),s.Pb(4,"div",4),s.tc(5,"\u8fb2\u7530\u6536\u5272\u8cc7\u8a0a"),s.Ob(),s.Ob(),s.Pb(6,"div",5),s.Pb(7,"div",6),s.Pb(8,"div",7),s.Xb("click",(function(){return t.toggleDescription()})),s.tc(9),s.Kb(10,"div",8),s.Ob(),s.Ob(),s.Pb(11,"div",6),s.Pb(12,"div",9),s.tc(13,"\u6536\u5272\u91cf"),s.Ob(),s.Pb(14,"span",10),s.tc(15),s.ac(16,"number"),s.Ob(),s.Pb(17,"div",11),s.tc(18,"\u55ae\u683c\u8fb2\u7530\u53ef\u6536\u6210\u4f5c\u7269\u7684\u6578\u91cf"),s.Ob(),s.Ob(),s.Pb(19,"div",6),s.Pb(20,"div",9),s.tc(21,"\u5f69\u8679\u51fa\u73fe\u6a5f\u7387"),s.Ob(),s.Pb(22,"span",10),s.tc(23),s.ac(24,"number"),s.Ob(),s.Pb(25,"div",11),s.tc(26,"\u55ae\u683c\u8fb2\u7530\u51fa\u73fe\u5f69\u8679\u7684\u6a5f\u7387"),s.Ob(),s.Ob(),s.Pb(27,"div",6),s.Pb(28,"div",9),s.tc(29,"\u7279\u7d1a\u6210\u529f\u6a5f\u7387"),s.Ob(),s.Pb(30,"span",10),s.tc(31),s.ac(32,"number"),s.Ob(),s.Pb(33,"div",11),s.tc(34,"\u55ae\u683c\u8fb2\u7530\u70ba\u5f69\u8679\u6642\uff0c\u53ef\u6210\u70ba\u7279\u7d1a\u4f5c\u7269\u7684\u6a5f\u7387"),s.Ob(),s.Ob(),s.Pb(35,"div",6),s.Pb(36,"div",9),s.tc(37,"\u6536\u5272\u4e0a\u7d1a\u6a5f\u7387"),s.Ob(),s.Pb(38,"span",10),s.tc(39),s.ac(40,"number"),s.Ob(),s.Pb(41,"div",11),s.tc(42,"\u55ae\u683c\u6536\u5272\u4f5c\u7269\u6642\uff0c\u53ef\u80fd\u70ba\u4e0a\u7d1a\u7684\u6a5f\u7387"),s.Ob(),s.Ob(),s.Pb(43,"div",6),s.Pb(44,"div",9),s.tc(45,"\u6536\u5272\u7279\u7d1a\u6a5f\u7387"),s.Ob(),s.Pb(46,"span",10),s.tc(47),s.ac(48,"number"),s.Ob(),s.Pb(49,"div",11),s.tc(50,"\u55ae\u683c\u6536\u5272\u4f5c\u7269\u6642\uff0c\u53ef\u80fd\u70ba\u7279\u7d1a\u7684\u6a5f\u7387"),s.Ob(),s.Ob(),s.Pb(51,"div",6),s.Pb(52,"div",9),s.tc(53,"\u6536\u5272\u7279\u4e0a\u6a5f\u7387"),s.Ob(),s.Pb(54,"span",10),s.tc(55),s.ac(56,"number"),s.Ob(),s.Pb(57,"div",11),s.tc(58,"\u55ae\u683c\u6536\u5272\u4f5c\u7269\u6642\uff0c\u53ef\u80fd\u70ba\u7279\u4e0a\u7684\u6a5f\u7387"),s.Ob(),s.Ob(),s.Pb(59,"div",12),s.Kb(60,"fa-icon",13),s.tc(61," \u6536\u76ca\u9810\u4f30 "),s.Ob(),s.Pb(62,"div",14),s.Pb(63,"div",6),s.Pb(64,"div",9),s.tc(65,"\u8fb2\u7530\u6210\u672c (\u55ae\u683c)"),s.Ob(),s.Pb(66,"span",10),s.tc(67),s.ac(68,"number"),s.Ob(),s.Pb(69,"div",11),s.tc(70,"\u55ae\u683c\u8fb2\u7530\u6240\u9700\u8981\u7684\u6210\u672c"),s.Ob(),s.Ob(),s.Pb(71,"div",6),s.Pb(72,"div",9),s.tc(73,"\u4f5c\u7269\u552e\u50f9\u671f\u671b\u503c"),s.Ob(),s.Pb(74,"span",10),s.tc(75),s.ac(76,"number"),s.Ob(),s.Pb(77,"div",11),s.tc(78," \u4f5c\u7269\u57fa\u65bc\u6536\u5272\u4e0a\u7d1a\u3001\u7279\u7d1a\u8207\u7279\u4e0a\u6a5f\u7387\u4e58\u4e0a\u552e\u50f9\u6240\u7b97\u51fa\u7684\u671f\u671b\u503c\u518d\u52a0\u4e0a\u6642\u50f9\u52a0\u6210 "),s.Ob(),s.Ob(),s.Pb(79,"div",6),s.Pb(80,"div",9),s.tc(81,"\u9810\u671f\u6536\u76ca (\u55ae\u683c)"),s.Ob(),s.Pb(82,"span",10),s.tc(83),s.ac(84,"number"),s.Ob(),s.Pb(85,"div",11),s.tc(86," \u55ae\u683c\u8fb2\u7530\u7684\u9810\u671f\u6536\u76ca\u3002"),s.Kb(87,"br"),s.tc(88," \u516c\u5f0f\u70ba"),s.Pb(89,"i"),s.tc(90,"\u552e\u50f9\u671f\u671b\u503c * \u6536\u5272\u91cf - \u6210\u672c"),s.Ob(),s.Ob(),s.Ob(),s.Pb(91,"div",15),s.Pb(92,"div",9),s.tc(93,"\u6642\u50f9\u52a0\u6210"),s.Ob(),s.Pb(94,"span",10),s.tc(95),s.Ob(),s.Pb(96,"input",16),s.Xb("ngModelChange",(function(e){return t.priceAddition=e}))("ngModelChange",(function(e){return t.setPriceAddition(e)})),s.Ob(),s.Ob(),s.Pb(97,"div",15),s.Pb(98,"div",9),s.tc(99,"\u7e3d\u7530\u6578"),s.Ob(),s.Pb(100,"span",10),s.tc(101),s.Ob(),s.Pb(102,"input",17),s.Xb("ngModelChange",(function(e){return t.farmNumber=e}))("ngModelChange",(function(e){return t.setFarmNumber(e)})),s.Ob(),s.Ob(),s.Pb(103,"div",6),s.Pb(104,"div",9),s.tc(105,"\u8fb2\u7530\u6536\u76ca"),s.Ob(),s.Pb(106,"span",10),s.tc(107),s.ac(108,"number"),s.Ob(),s.Pb(109,"div",11),s.tc(110),s.Kb(111,"br"),s.tc(112),s.ac(113,"number"),s.Ob(),s.Ob(),s.Pb(114,"div",6),s.Pb(115,"div",9),s.tc(116,"\u984d\u5916\u6210\u672c"),s.Ob(),s.Pb(117,"span",10),s.tc(118),s.ac(119,"number"),s.Ob(),s.Pb(120,"div",11),s.tc(121),s.ac(122,"number"),s.Ob(),s.Ob(),s.Pb(123,"div",6),s.Pb(124,"div",9),s.tc(125,"\u7e3d\u6536\u76ca"),s.Ob(),s.Pb(126,"span",10),s.tc(127),s.ac(128,"number"),s.Ob(),s.Pb(129,"div",11),s.tc(130),s.Kb(131,"br"),s.tc(132),s.ac(133,"number"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(134,"div",18),s.Pb(135,"div",19),s.Xb("click",(function(){return t.closeModal()})),s.Kb(136,"fa-icon",13),s.tc(137," \u95dc\u9589 "),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.zb(6),s.fc("ngClass",t.isOpenDesc?"active":""),s.zb(3),s.vc(" ",t.isOpenDesc?"\u95dc\u9589":"\u958b\u555f","\u6b04\u4f4d\u8aaa\u660e "),s.zb(1),s.fc("ngClass",t.isOpenDesc?"active":""),s.zb(5),s.uc(s.bc(16,38,t.data.harvest)),s.zb(8),s.vc("",s.bc(24,40,t.data.rainbow),"%"),s.zb(8),s.vc("",s.bc(32,42,t.data.premium),"%"),s.zb(8),s.vc("",s.bc(40,44,100*t.data.superiorProp),"%"),s.zb(8),s.vc("",s.bc(48,46,100*t.data.premiumProp),"%"),s.zb(8),s.vc("",s.bc(56,48,100*t.data.superiorPremiumProp),"%"),s.zb(5),s.fc("icon",t.benefitIcon),s.zb(7),s.vc("$",s.cc(68,50,t.data.cost,"1.0-0"),""),s.zb(8),s.vc("$",s.cc(76,53,t.sellPrice,"1.0-0"),""),s.zb(7),s.qc("color",t.income>0?"var(--success)":"var(--danger)"),s.zb(1),s.vc(" $",s.cc(84,56,t.income,"1.0-0")," "),s.zb(11),s.qc("color",t.priceAddition>0?"var(--success)":"var(--danger)"),s.zb(1),s.vc(" ",t.priceAddition,"% "),s.zb(1),s.fc("ngModel",t.priceAddition),s.zb(5),s.uc(t.farmNumber),s.zb(1),s.fc("ngModel",t.farmNumber),s.zb(4),s.qc("color",t.total>0?"var(--success)":"var(--danger)"),s.zb(1),s.vc(" $",s.cc(108,59,t.income*t.farmNumber,"1.0-0")," "),s.zb(3),s.vc(" \u6536\u5272\u8a72\u4f5c\u7269\u4e00\u8f2a ",t.farmNumber," \u7530\uff0c"),s.zb(2),s.wc(" \u6263\u9664\u57fa\u672c\u6210\u672c\u5f8c\u9810\u4f30\u5f8c\u6703",t.total>=0?"\u8cfa":"\u8ce0","\u7d04 $",s.cc(113,62,t.income*t.farmNumber,"1.0-0")," "),s.zb(5),s.qc("color","var(--danger)"),s.zb(1),s.vc(" $",s.cc(119,65,t.otherCost,"1.0-0")," "),s.zb(3),s.vc(" \u8fb2\u4f5c\u6642\uff0c\u984d\u5916\u82b1\u8cbb\uff08\u98f2\u6599\u7b49\uff09 $",s.cc(122,68,t.otherCost,"1.0-0")," "),s.zb(5),s.qc("color",t.total>0?"var(--success)":"var(--danger)"),s.zb(1),s.vc(" $",s.cc(128,71,t.total,"1.0-0")," "),s.zb(3),s.vc(" \u6536\u5272\u8a72\u4f5c\u7269\u4e00\u8f2a ",t.farmNumber," \u7530\uff0c"),s.zb(2),s.wc(" \u7d93\u9810\u4f30\u5f8c\u6703",t.total>=0?"\u8cfa":"\u8ce0","\u7d04 $",s.cc(133,74,t.total,"1.0-0")," "),s.zb(4),s.fc("icon",t.closeIcon))},directives:[o.i,d.a,c.n,c.b,c.i,c.k],pipes:[o.d],styles:['.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;z-index:10;background-color:rgba(0,0,0,.8)}.background[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0}.wrapper[_ngcontent-%COMP%]{z-index:15;border-radius:4px;background-color:var(--white);min-width:320px;max-width:450px;min-height:300px;max-height:640px;overflow-y:auto;display:flex;flex-flow:column nowrap;justify-content:flex-start}.header[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{align-items:center}.header[_ngcontent-%COMP%]{flex:1;width:100%;flex-flow:row wrap;justify-content:center;margin:16px auto}.content[_ngcontent-%COMP%]{flex:2;padding:4px;flex-flow:column wrap;justify-content:flex-start}.content[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{width:95%;align-items:center}.footer[_ngcontent-%COMP%]{flex:1;flex-flow:row wrap;justify-content:flex-end;margin:8px auto}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;text-align:center}.info[_ngcontent-%COMP%]{display:flex;padding:4px;margin:2px 4px;flex-flow:row wrap;justify-content:flex-start;align-items:center}.info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:4px;margin-right:12px;font-size:16;font-weight:500;min-width:128px;max-width:128px}.info[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-weight:600;min-width:40px;margin:4px}.description[_ngcontent-%COMP%]{flex-basis:95%;font-size:14px;color:var(--info);padding-left:4px;display:none;transition:.5s}.content.active[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:inline-block}.part.title[_ngcontent-%COMP%]{margin-top:12px;font-size:18px;padding:8px 8px 8px 20px;text-align:left}input[type=range][_ngcontent-%COMP%]{width:100%;margin-top:2px;margin-bottom:6px}.button[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:4px 12px;font-size:18px;line-height:20px;color:var(--primary);border:1px solid var(--primary);border-radius:8px;margin:4px 8px}.button[_ngcontent-%COMP%]:hover{cursor:pointer}.close-button[_ngcontent-%COMP%]{float:right;font-weight:600;color:var(--red);border:1px solid var(--red);border-radius:8px}.toggle[_ngcontent-%COMP%]{display:inline-block;margin-left:16px;width:24px;height:8px;border-radius:8px;position:relative}.toggle[_ngcontent-%COMP%], .toggle[_ngcontent-%COMP%]:after{background-color:var(--gray);transition-duration:.3s}.toggle[_ngcontent-%COMP%]:after{content:"";width:16px;height:16px;border-radius:50%;position:absolute;left:-8px;top:-4px}.toggle.active[_ngcontent-%COMP%]:after{background-color:var(--green);left:calc(100% - 8px)}']}),r);function v(e,t){if(1&e&&(s.Pb(0,"option",15),s.tc(1),s.Ob()),2&e){var n=t.$implicit;s.fc("value",n),s.zb(1),s.uc(n)}}function h(e,t){if(1&e){var n=s.Qb();s.Pb(0,"app-result-modal",16),s.Xb("cancel",(function(e){return s.lc(n),s.Zb().closeModal(e)})),s.Ob()}if(2&e){var i=s.Zb();s.fc("data",i.result)("otherCost",i.computeOtherCost())}}function g(e,t){1&e&&(s.Pb(0,"div",18),s.Pb(1,"label"),s.tc(2," \u9ede\u83dc\u91d1\u50f9\u683c (3\u683c)"),s.Ob(),s.Kb(3,"input",27),s.Ob())}function P(e,t){1&e&&(s.Pb(0,"div",18),s.Pb(1,"label"),s.tc(2," \u5e8a\u571f\u50f9 (\u55ae\u50f9)"),s.Ob(),s.Kb(3,"input",28),s.Ob())}function O(e,t){if(1&e){var n=s.Qb();s.Pb(0,"div",2),s.Pb(1,"div",17),s.tc(2,"\u6210\u672c\u8a08\u7b97 (\u4e00\u500b\u7530)"),s.Ob(),s.Pb(3,"div",18),s.Pb(4,"div"),s.Pb(5,"label"),s.tc(6," \u6709\u7121\u9130\u5c45\u4e92\u52a9 "),s.Ob(),s.Pb(7,"input",19),s.Xb("ngModelChange",(function(e){return s.lc(n),s.Zb().haveAssistance=e})),s.Ob(),s.Ob(),s.Ob(),s.Pb(8,"form",3),s.rc(9,g,4,0,"div",20),s.rc(10,P,4,0,"div",20),s.Pb(11,"div",18),s.Pb(12,"label"),s.tc(13," \u57fa\u80a5\u50f9 (\u55ae\u50f9)"),s.Ob(),s.Kb(14,"input",21),s.Ob(),s.Pb(15,"div",22),s.Pb(16,"div"),s.Pb(17,"label"),s.tc(18,"\u80a5\u6599\u50f9 (\u55ae\u50f9)"),s.Ob(),s.Kb(19,"input",23),s.Ob(),s.Pb(20,"div"),s.Pb(21,"label"),s.tc(22,"\u6578\u91cf "),s.Ob(),s.Kb(23,"input",24),s.Ob(),s.Ob(),s.Pb(24,"div",22),s.Pb(25,"div"),s.Pb(26,"label"),s.tc(27,"\u98f2\u6599\u50f9 (\u55ae\u50f9)"),s.Ob(),s.Kb(28,"input",25),s.Ob(),s.Pb(29,"div"),s.Pb(30,"label"),s.tc(31,"\u6578\u91cf (\u4e00\u8f2a\u7530)"),s.Ob(),s.Kb(32,"input",26),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&e){var i=s.Zb();s.zb(7),s.fc("ngModel",i.haveAssistance),s.zb(1),s.fc("formGroup",i.costForm),s.zb(1),s.fc("ngIf",i.haveAssistance),s.zb(1),s.fc("ngIf",!i.isSeed)}}function w(e,t){if(1&e&&(s.Pb(0,"option",15),s.tc(1),s.Ob()),2&e){var n=t.$implicit;s.fc("value",n.name),s.zb(1),s.uc(n.name)}}function C(e,t){if(1&e&&(s.Pb(0,"option",15),s.tc(1),s.Ob()),2&e){var n=t.$implicit;s.fc("value",n.name),s.zb(1),s.uc(n.name)}}function x(e,t){if(1&e&&(s.Pb(0,"option",15),s.tc(1),s.Ob()),2&e){var n=t.$implicit;s.fc("value",n.name),s.zb(1),s.uc(n.name)}}function y(e,t){if(1&e){var n=s.Qb();s.Pb(0,"div",2),s.Pb(1,"div",17),s.tc(2,"\u4f5c\u7269\u8cc7\u8a0a"),s.Ob(),s.Pb(3,"form",3),s.Pb(4,"div",18),s.Pb(5,"label"),s.tc(6,"\u4f5c\u7269\u7b49\u7d1a"),s.Ob(),s.Pb(7,"select",29),s.Xb("change",(function(e){return s.lc(n),s.Zb().selectSeedLevel(e)})),s.rc(8,w,2,2,"option",6),s.Ob(),s.Pb(9,"div",30),s.Pb(10,"span"),s.tc(11),s.Ob(),s.Pb(12,"span"),s.tc(13),s.Ob(),s.Ob(),s.Ob(),s.Pb(14,"div",31),s.Pb(15,"div",32),s.Pb(16,"div",18),s.tc(17,"\u8b8a\u7570\u5c6c\u6027"),s.Ob(),s.Pb(18,"div",18),s.Kb(19,"input",33),s.Pb(20,"label"),s.tc(21,"\u7279\u7d1a\u6210\u529f\u7387\u4e0a\u5347 10% "),s.Ob(),s.Ob(),s.Pb(22,"div",18),s.Kb(23,"input",34),s.Pb(24,"label"),s.tc(25,"\u7279\u7d1a\u767c\u751f\u7387 10% "),s.Ob(),s.Ob(),s.Pb(26,"div",18),s.Kb(27,"input",35),s.Pb(28,"label"),s.tc(29,"\u6536\u5272\u91cf\u589e\u52a0 25% "),s.Ob(),s.Ob(),s.Pb(30,"div",18),s.Kb(31,"input",36),s.Pb(32,"label"),s.tc(33," 5% \u6a5f\u7387\u4e0a\u5347\u4e00\u968e\u6bb5"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(34,"div",18),s.Pb(35,"label"),s.tc(36,"\u7530\u5730"),s.Ob(),s.Pb(37,"select",37),s.Xb("change",(function(e){return s.lc(n),s.Zb().selectFarmLevel(e)})),s.rc(38,C,2,2,"option",6),s.Ob(),s.Pb(39,"div",30),s.Pb(40,"span"),s.tc(41),s.Ob(),s.Pb(42,"span"),s.tc(43),s.Ob(),s.Ob(),s.Ob(),s.Pb(44,"div",18),s.Pb(45,"label"),s.tc(46,"\u6eab\u5ba4"),s.Ob(),s.Pb(47,"select",38),s.Xb("change",(function(e){return s.lc(n),s.Zb().selectGreenhouseLevel(e)})),s.rc(48,x,2,2,"option",6),s.Ob(),s.Pb(49,"div",30),s.Pb(50,"span"),s.tc(51),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&e){var i=s.Zb();s.zb(3),s.fc("formGroup",i.harvestForm),s.zb(5),s.fc("ngForOf",i.seedLevels),s.zb(3),s.vc(" \u7279\u7d1a+",i.seedLevel.premium,"% "),s.zb(2),s.vc(" \u5f69\u8679+",i.seedLevel.rainbow,"% "),s.zb(25),s.fc("ngForOf",i.farmLevels),s.zb(3),s.vc(" \u6536\u5272\u91cf+",i.farmLevel.harvestRate,"% "),s.zb(2),s.vc(" \u5f69\u8679+",i.farmLevel.rainbow,"% "),s.zb(5),s.fc("ngForOf",i.greenhouseLevels),s.zb(3),s.vc(" \u6536\u5272\u91cf+",i.greenhouseLevel.harvestRate,"% ")}}function k(e,t){if(1&e&&(s.Pb(0,"span"),s.tc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.zb(1),s.vc("\u7279\u7d1a+",n.premium,"%")}}function M(e,t){if(1&e&&(s.Pb(0,"span"),s.tc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.zb(1),s.vc("\u5f69\u8679+",n.rainbow,"%")}}function _(e,t){if(1&e&&(s.Pb(0,"span"),s.tc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.zb(1),s.vc("\u6536\u5272\u91cf+",n.harvest,"")}}function z(e,t){if(1&e&&(s.Pb(0,"span"),s.tc(1),s.Ob()),2&e){var n=s.Zb().$implicit;s.zb(1),s.vc("\u6536\u5272\u91cf+",n.harvestRate,"%")}}function L(e,t){if(1&e){var n=s.Qb();s.Pb(0,"div",43),s.Pb(1,"span",17),s.tc(2),s.Ob(),s.Pb(3,"div",30),s.rc(4,k,2,1,"span",44),s.rc(5,M,2,1,"span",44),s.rc(6,_,2,1,"span",44),s.rc(7,z,2,1,"span",44),s.Ob(),s.Pb(8,"div",45),s.Xb("click",(function(){s.lc(n);var e=t.$implicit;return s.Zb(2).removeEquipment(e)})),s.tc(9,"\u2013"),s.Ob(),s.Ob()}if(2&e){var i=t.$implicit;s.zb(2),s.uc(i.part),s.zb(2),s.fc("ngIf",i.premium>0),s.zb(1),s.fc("ngIf",i.rainbow>0),s.zb(1),s.fc("ngIf",i.harvest>0),s.zb(1),s.fc("ngIf",i.harvestRate>0)}}function I(e,t){if(1&e&&(s.Pb(0,"option",15),s.tc(1),s.Ob()),2&e){var n=t.$implicit;s.fc("value",n),s.zb(1),s.uc(n)}}function q(e,t){if(1&e){var n=s.Qb();s.Pb(0,"div",46),s.Pb(1,"div"),s.Pb(2,"label",47),s.tc(3,"\u88dd\u5099"),s.Ob(),s.Pb(4,"select",48),s.rc(5,I,2,2,"option",6),s.Ob(),s.Ob(),s.Pb(6,"div"),s.Pb(7,"label"),s.tc(8,"+\u7279\u7d1a\u6210\u529f\u7387(%)"),s.Ob(),s.Kb(9,"input",49),s.Ob(),s.Pb(10,"div"),s.Pb(11,"label"),s.tc(12,"+\u5f69\u8679\u51fa\u73fe\u7387(%)"),s.Ob(),s.Kb(13,"input",50),s.Ob(),s.Pb(14,"div"),s.Pb(15,"label"),s.tc(16,"+\u6536\u5272\u91cf(\u500b)"),s.Ob(),s.Kb(17,"input",51),s.Ob(),s.Pb(18,"div"),s.Pb(19,"label"),s.tc(20,"+\u6536\u5272\u91cf(%)"),s.Ob(),s.Kb(21,"input",52),s.Ob(),s.Pb(22,"div"),s.Pb(23,"button",53),s.Xb("click",(function(){return s.lc(n),s.Zb(2).addEquipment()})),s.tc(24,"+\u65b0\u589e\u6b64\u88dd\u5099"),s.Ob(),s.Ob(),s.Ob()}if(2&e){var i=s.Zb(2);s.zb(5),s.fc("ngForOf",i.equipmentList)}}function N(e,t){if(1&e&&(s.Pb(0,"div",2),s.Pb(1,"div",17),s.tc(2,"\u670d\u88dd & \u8fb2\u5177"),s.Ob(),s.Pb(3,"form",3),s.Pb(4,"div",18),s.Pb(5,"div",39),s.Pb(6,"div",40),s.rc(7,L,10,5,"div",41),s.Ob(),s.rc(8,q,25,1,"div",42),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&e){var n=s.Zb();s.zb(3),s.fc("formGroup",n.harvestForm),s.zb(4),s.fc("ngForOf",n.addEquipments),s.zb(1),s.fc("ngIf",n.equipmentList.length>0)}}function R(e,t){if(1&e){var n=s.Qb();s.Pb(0,"div",2),s.Pb(1,"div",17),s.tc(2,"\u5176\u4ed6"),s.Ob(),s.Pb(3,"div",18),s.Pb(4,"div"),s.Pb(5,"input",19),s.Xb("ngModelChange",(function(e){return s.lc(n),s.Zb().others.rainbowDuck=e})),s.Ob(),s.Pb(6,"label"),s.tc(7,"\u4f7f\u7528\u5f69\u8679\u9d28 (\u5c07\u5f69\u8679\u6a5f\u7387\u8abf\u70ba100%)"),s.Ob(),s.Ob(),s.Ob(),s.Pb(8,"div",18),s.Pb(9,"label",54),s.tc(10,"\u4f7f\u7528\u589e\u91cf\u5291"),s.Ob(),s.Pb(11,"div"),s.Pb(12,"input",55),s.Xb("change",(function(){return s.lc(n),s.Zb().selectPotion(0)})),s.Ob(),s.Pb(13,"label"),s.tc(14,"\u7121"),s.Ob(),s.Ob(),s.Pb(15,"div"),s.Pb(16,"input",55),s.Xb("change",(function(){return s.lc(n),s.Zb().selectPotion(1)})),s.Ob(),s.Pb(17,"label"),s.tc(18,"\u5fae\u91cf\u7684\u589e\u7522\u91cf\u5feb\u5291 (+50%)"),s.Ob(),s.Ob(),s.Pb(19,"div"),s.Pb(20,"input",55),s.Xb("change",(function(){return s.lc(n),s.Zb().selectPotion(2)})),s.Ob(),s.Pb(21,"label"),s.tc(22,"\u5c11\u91cf\u7684\u589e\u7522\u91cf\u5feb\u5291 (+100%)"),s.Ob(),s.Ob(),s.Pb(23,"div"),s.Pb(24,"input",55),s.Xb("change",(function(){return s.lc(n),s.Zb().selectPotion(3)})),s.Ob(),s.Pb(25,"label"),s.tc(26,"\u9069\u7576\u7684\u589e\u7522\u91cf\u5feb\u5291 (+150%)"),s.Ob(),s.Ob(),s.Pb(27,"div"),s.Pb(28,"input",55),s.Xb("change",(function(){return s.lc(n),s.Zb().selectPotion(4)})),s.Ob(),s.Pb(29,"label"),s.tc(30,"\u723d\u5feb\u7684\u589e\u7522\u91cf\u5feb\u5291 (+200%)"),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&e){var i=s.Zb();s.zb(5),s.fc("ngModel",i.others.rainbowDuck),s.zb(7),s.fc("checked",i.others.potion.none),s.zb(4),s.fc("checked",i.others.potion.tiny),s.zb(4),s.fc("checked",i.others.potion.small),s.zb(4),s.fc("checked",i.others.potion.mid),s.zb(4),s.fc("checked",i.others.potion.big)}}var F,A,S,T=[{path:"",component:(F=function(){function e(t,n,i,r){_classCallCheck(this,e),this.ss=t,this.cs=n,this.title=i,this.meta=r,this.isSeed=!0,this.haveAssistance=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.seedName=this.ss.getAllCropsName(),this.isSeed=!0,this.haveAssistance=!0,this.seedLevels=[{id:0,name:"\u521d\u5b78\u8005",rainbow:0,premium:0},{id:1,name:"\u884c\u5bb6",rainbow:0,premium:25},{id:2,name:"\u5c08\u5bb6",rainbow:0,premium:40},{id:3,name:"\u9054\u4eba",rainbow:25,premium:55},{id:4,name:"\u738b",rainbow:30,premium:70},{id:5,name:"\u795e",rainbow:40,premium:85}],this.farmLevels=[{id:0,name:"\u5341\u5206\u8ca7\u7620\u7684\u8fb2\u7530",rainbow:0,harvestRate:0},{id:1,name:"\u7a0d\u5fae\u8ca7\u7620\u7684\u8fb2\u7530",rainbow:10,harvestRate:10},{id:2,name:"\u52c9\u5f37\u80fd\u4f7f\u7528\u7684\u8fb2\u7530",rainbow:20,harvestRate:20},{id:3,name:"\u7a0d\u5fae\u80a5\u6c83\u7684\u8fb2\u7530",rainbow:30,harvestRate:30},{id:4,name:"\u5341\u5206\u80a5\u6c83\u7684\u8fb2\u7530",rainbow:40,harvestRate:40},{id:5,name:"\u80a5\u6ecb\u6ecb\u7684\u8fb2\u7530",rainbow:50,harvestRate:50}],this.greenhouseLevels=[{id:0,name:"\u7121",harvestRate:0},{id:1,name:"\u7db2\u5ba4",harvestRate:10},{id:2,name:"\u6eab\u5ba4",harvestRate:20},{id:3,name:"\u52a0\u71b1\u6eab\u5ba4",harvestRate:30}],this.equipmentList=["\u5e3d\u5b50","\u8863\u670d","\u978b\u5b50","\u92e4\u982d","\u93df\u5b50","\u82b1\u93df","\u6f86\u6c34\u58fa","\u942e\u5200","\u83dc\u7c43"],this.addEquipments=[],this.seedLevel=this.seedLevels[0],this.farmLevel=this.farmLevels[0],this.greenhouseLevel=this.greenhouseLevels[0],this.others={rainbowDuck:!1,blessTree:0,potion:{none:!0,tiny:!1,small:!1,mid:!1,big:!1}},this.formReset(),this.showResult=!1,this.result={cost:0,harvest:0,premium:0,rainbow:0,superiorProp:0,premiumProp:0,superiorPremiumProp:0,expectedValue:0,priceAddition:0,sellPrice:0,income:0},this.title.setTitle("\u6536\u76ca\u8a08\u7b97 | RealFarm \u5c0f\u5e6b\u624b"),this.meta.updateTag({name:"description",content:"\u5c0f\u5e6b\u624b\u53ef\u4ee5\u5e6b\u5fd9\u8a08\u7b97 RealFarm \u760b\u7a2e\u83dc\u4e2d\u7684\u6536\u5272\u91cf\u3001\u5f69\u8679\u6a5f\u7387\u3001\u7279\u7d1a\u6a5f\u7387\uff0c\u4e5f\u53ef\u4ee5\u6839\u64da\u7a2e\u690d\u6210\u672c\u3001\u4f5c\u7269\u7b49\u7d1a\u3001\u8fb2\u7530\u7b49\u7d1a\u3001\u88dd\u5099\u52a0\u6210\u7b49\u8cc7\u8a0a\u63a8\u4f30\u6536\u76ca\u3002"}),this.meta.updateTag({name:"apple-mobile-web-app-title",content:"\u6536\u76ca\u8a08\u7b97 | RealFarm \u5c0f\u5e6b\u624b"}),this.meta.updateTag({property:"og:title",content:"\u6536\u76ca\u8a08\u7b97 | RealFarm \u5c0f\u5e6b\u624b"}),this.meta.updateTag({property:"og:description",content:"\u5c0f\u5e6b\u624b\u53ef\u4ee5\u5e6b\u5fd9\u8a08\u7b97 RealFarm \u760b\u7a2e\u83dc\u4e2d\u7684\u6536\u5272\u91cf\u3001\u5f69\u8679\u6a5f\u7387\u3001\u7279\u7d1a\u6a5f\u7387\uff0c\u4e5f\u53ef\u4ee5\u6839\u64da\u7a2e\u690d\u6210\u672c\u3001\u4f5c\u7269\u7b49\u7d1a\u3001\u8fb2\u7530\u7b49\u7d1a\u3001\u88dd\u5099\u52a0\u6210\u7b49\u8cc7\u8a0a\u63a8\u4f30\u6536\u76ca\u3002"}),this.meta.updateTag({property:"og:image",content:"https://bobosheep.github.io/farm-tool/assets/DisplayIncome.JPG"})}},{key:"formReset",value:function(){this.costForm=new c.e({seed:new c.c(this.seedName[0]),bedSoil:new c.c(0),baseFertilizer:new c.c(0),fertilizer:new c.c(0),fertilizerNumber:new c.c(0),assistanceCost:new c.c(0),drink:new c.c(0),drinkNumber:new c.c(0)}),this.harvestForm=new c.e({specialSeed:new c.e({premium:new c.c(!1),rainbow:new c.c(!1),harvest:new c.c(!1),levelUp:new c.c(!1)}),seedLevel:new c.c(this.seedLevel.name),farmLevel:new c.c(this.farmLevel.name),greenhouseLevel:new c.c(this.greenhouseLevel.name),equipment:new c.e({part:new c.c(this.equipmentList[0]),rainbow:new c.c(0),premium:new c.c(0),harvest:new c.c(0),harvestRate:new c.c(0)}),other:new c.e({rainbowDuck:new c.c(!1),treeBless:new c.c(!1)})})}},{key:"selectSeed",value:function(){this.isSeed=!this.isSeed}},{key:"checkAssistance",value:function(){this.haveAssistance=!this.haveAssistance}},{key:"selectSeedLevel",value:function(e){var t=this;this.seedLevel=this.seedLevels.filter((function(e){return e.name===t.harvestForm.get("seedLevel").value}))[0]}},{key:"selectFarmLevel",value:function(e){var t=this;this.farmLevel=this.farmLevels.filter((function(e){return e.name===t.harvestForm.get("farmLevel").value}))[0]}},{key:"selectGreenhouseLevel",value:function(e){var t=this;this.greenhouseLevel=this.greenhouseLevels.filter((function(e){return e.name===t.harvestForm.get("greenhouseLevel").value}))[0]}},{key:"addEquipment",value:function(){var e={part:this.harvestForm.get("equipment").get("part").value,rainbow:this.harvestForm.get("equipment").get("rainbow").value,premium:this.harvestForm.get("equipment").get("premium").value,harvest:this.harvestForm.get("equipment").get("harvest").value,harvestRate:this.harvestForm.get("equipment").get("harvestRate").value};0===e.premium&&0===e.rainbow&&0===e.harvest&&0===e.harvestRate||(this.equipmentList=this.equipmentList.filter((function(t){return t!==e.part})),this.addEquipments=[].concat(_toConsumableArray(this.addEquipments),[e]),this.harvestForm.get("equipment").setValue({part:this.equipmentList[0],rainbow:0,premium:0,harvest:0,harvestRate:0}))}},{key:"removeEquipment",value:function(e){this.addEquipments=this.addEquipments.filter((function(t){return t.part!==e.part})),this.equipmentList=[].concat(_toConsumableArray(this.equipmentList),[e.part])}},{key:"selectPotion",value:function(e){0===e?this.others.potion={none:!0,tiny:!1,small:!1,mid:!1,big:!1}:1===e?this.others.potion={none:!1,tiny:!0,small:!1,mid:!1,big:!1}:2===e?this.others.potion={none:!1,tiny:!1,small:!0,mid:!1,big:!1}:3===e?this.others.potion={none:!1,tiny:!1,small:!1,mid:!0,big:!1}:4===e&&(this.others.potion={none:!1,tiny:!1,small:!1,mid:!1,big:!0})}},{key:"computeCost",value:function(){var e=this.costForm,t=this.ss.searchSeed(e.get("seed").value).crop_info.seed_cost,n=this.haveAssistance?e.get("assistanceCost").value:0,i=this.isSeed?0:e.get("bedSoil").value;return this.cs.calcFarmCost(t,n,e.get("baseFertilizer").value,e.get("fertilizer").value,e.get("fertilizerNumber").value,i)}},{key:"computeOtherCost",value:function(){var e=this.costForm,t=e.get("drink").value*e.get("drinkNumber").value;return Math.floor(t)}},{key:"computeHarvest",value:function(){var e,t=0,n=this.harvestForm.get("specialSeed").get("harvest").value;return this.others.potion.tiny?t=1:this.others.potion.small?t=2:this.others.potion.mid?t=3:this.others.potion.big&&(t=4),e=this.cs.calcHarvest(this.isSeed,n,this.haveAssistance,this.farmLevel.id,this.greenhouseLevel.id,this.addEquipments,t),Math.round(e)}},{key:"computePremium",value:function(){var e=this.harvestForm.get("specialSeed").get("premium").value;return this.cs.calcPremium(e,this.seedLevel.id,this.addEquipments)}},{key:"computeRainbow",value:function(){var e=this.harvestForm.get("specialSeed").get("rainbow").value;return this.cs.calcRainbow(e,this.seedLevel.id,this.farmLevel.id,this.addEquipments,this.others.rainbowDuck)}},{key:"computeProp",value:function(e,t){var n=this.harvestForm.get("specialSeed").get("levelUp").value;return this.cs.calcProp(n,e,t)}},{key:"computePrice",value:function(e,t){var n=2*this.ss.searchSeed(e).crop_info.price_base;return Math.floor(n*t.superiorProp+5*n*t.premiumProp+10*n*t.superiorPremiumProp)}},{key:"computeAll",value:function(){var e;this.result.cost=this.computeCost(),this.result.harvest=this.computeHarvest(),this.result.premium=this.computePremium(),this.result.rainbow=this.computeRainbow(),e=this.computeProp(this.result.premium,this.result.rainbow),this.result.superiorProp=e.superiorProp,this.result.premiumProp=e.premiumProp,this.result.superiorPremiumProp=e.superiorPremiumProp,this.result.expectedValue=this.computePrice(this.costForm.get("seed").value,e),this.showResult=!0}},{key:"closeModal",value:function(e){this.showResult=!1}}]),e}(),F.\u0275fac=function(e){return new(e||F)(s.Jb(b.a),s.Jb(l),s.Jb(u.d),s.Jb(u.c))},F.\u0275cmp=s.Db({type:F,selectors:[["app-income"]],decls:33,vars:10,consts:[["title","\u8a08\u7b97\u8fb2\u7530\u6536\u76ca","subtitle","\u53ef\u540c\u6642\u8a08\u7b97\u6536\u5272\u91cf\u3001\u5f69\u8679\u6a5f\u7387\u548c\u7279\u7d1a\u6a5f\u7387\u7b49",3,"showBackIcon"],[1,"container"],[1,"section"],[3,"formGroup"],[1,"form-element","seed-part"],["id","seedSelection","name","","formControlName","seed"],[3,"value",4,"ngFor","ngForOf"],["type","radio","name","isSeed",3,"checked","change"],[3,"ngTemplateOutlet"],[1,"button",3,"click"],[3,"data","otherCost","cancel",4,"ngIf"],["costTemplate",""],["harvestTemplate",""],["equipmentTemplate",""],["otherTemplate",""],[3,"value"],[3,"data","otherCost","cancel"],[1,"title"],[1,"form-element"],["type","checkbox",3,"ngModel","ngModelChange"],["class","form-element",4,"ngIf"],["type","number","step","1000","formControlName","baseFertilizer"],[1,"form-element","count-element"],["type","number","step","1000","formControlName","fertilizer"],["type","number","step","1","formControlName","fertilizerNumber"],["type","number","step","1000","formControlName","drink"],["type","number","step","1","formControlName","drinkNumber"],["type","number","step","10000","formControlName","assistanceCost"],["type","number","step","1000","formControlName","bedSoil"],["formControlName","seedLevel",3,"change"],[1,"detail"],["id","special-seed",1,"form-element"],["formGroupName","specialSeed"],["type","checkbox","formControlName","premium"],["type","checkbox","formControlName","rainbow"],["type","checkbox","formControlName","harvest"],["type","checkbox","formControlName","levelUp"],["formControlName","farmLevel",3,"change"],["formControlName","greenhouseLevel",3,"change"],["formGroupName","equipment"],[1,"equipment-details"],["class","equipment-detail",4,"ngFor","ngForOf"],["class","form-element equipment-part",4,"ngIf"],[1,"equipment-detail"],[4,"ngIf"],[1,"remove-button",3,"click"],[1,"form-element","equipment-part"],["for",""],["formControlName","part"],["formControlName","premium","type","number","step","0.1"],["formControlName","rainbow","type","number","step","0.1"],["formControlName","harvest","type","number","step","1"],["formControlName","harvestRate","type","number","step","1"],[1,"add-button",3,"click"],[2,"font-size","18px"],["type","radio","name","potion",3,"checked","change"]],template:function(e,t){if(1&e&&(s.Kb(0,"app-header",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"form",3),s.Pb(4,"div",4),s.Pb(5,"div"),s.Pb(6,"label"),s.tc(7,"\u9078\u64c7\u6b32\u7a2e\u690d\u4f5c\u7269"),s.Ob(),s.Pb(8,"select",5),s.rc(9,v,2,2,"option",6),s.Ob(),s.Ob(),s.Pb(10,"div"),s.Pb(11,"label"),s.tc(12,"\u4f7f\u7528\u7a2e\u5b50"),s.Ob(),s.Pb(13,"input",7),s.Xb("change",(function(){return t.selectSeed()})),s.Ob(),s.Ob(),s.Pb(14,"div"),s.Pb(15,"label"),s.tc(16,"\u4f7f\u7528\u5e7c\u82d7 "),s.Ob(),s.Pb(17,"input",7),s.Xb("change",(function(){return t.selectSeed()})),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Lb(18,8),s.Lb(19,8),s.Lb(20,8),s.Lb(21,8),s.Pb(22,"button",9),s.Xb("click",(function(){return t.computeAll()})),s.tc(23,"\u8a08\u7b97\u6536\u76ca"),s.Ob(),s.rc(24,h,1,2,"app-result-modal",10),s.Ob(),s.rc(25,O,33,4,"ng-template",null,11,s.sc),s.rc(27,y,52,9,"ng-template",null,12,s.sc),s.rc(29,N,9,3,"ng-template",null,13,s.sc),s.rc(31,R,31,6,"ng-template",null,14,s.sc)),2&e){var n=s.kc(26),i=s.kc(28),r=s.kc(30),o=s.kc(32);s.fc("showBackIcon",!1),s.zb(3),s.fc("formGroup",t.costForm),s.zb(6),s.fc("ngForOf",t.seedName),s.zb(4),s.fc("checked",t.isSeed),s.zb(4),s.fc("checked",!t.isSeed),s.zb(1),s.fc("ngTemplateOutlet",n),s.zb(1),s.fc("ngTemplateOutlet",i),s.zb(1),s.fc("ngTemplateOutlet",r),s.zb(1),s.fc("ngTemplateOutlet",o),s.zb(3),s.fc("ngIf",t.showResult)}},directives:[p.a,c.r,c.j,c.f,c.p,c.i,c.d,o.j,o.m,o.k,c.l,c.q,f,c.a,c.k,c.m,c.b,c.g],styles:["select[_ngcontent-%COMP%]{min-width:150px;height:32px;line-height:32px;-webkit-appearance:menulist-button;-moz-appearance:none}.title[_ngcontent-%COMP%]{padding:16px 8px;font-size:18px;font-weight:600;text-align:center}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;border-top:1px solid var(--gray)}.section[_ngcontent-%COMP%]{width:85%;padding:16px 8px}.form-element[_ngcontent-%COMP%]{width:100%;margin:16px auto;display:flex;flex-direction:column;justify-content:center}.form-element[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{padding:4px;font-size:14px;font-weight:400}.detail[_ngcontent-%COMP%]{display:inline}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:auto 4px auto 0;color:var(--info)}.form-element[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:4px;margin:0 2px;text-align:left}.form-element[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-element[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:4px;border-radius:4px;margin:0 2px}.section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;padding:4px}.form-element.count-element[_ngcontent-%COMP%]{flex-flow:row wrap;justify-content:flex-start}.form-element.count-element[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:50%;display:flex;flex-flow:column}#special-seed[_ngcontent-%COMP%]{flex-direction:column}#special-seed[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]{display:block}.form-element.equipment-part[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}.equipment-part[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;margin:4px auto}.equipment-part[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .equipment-part[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{width:36px}.equipment-part[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}button[_ngcontent-%COMP%]{color:var(--white);font-size:18px;width:75%;height:48px;background:var(--red);border-radius:4px;border:0}.button[_ngcontent-%COMP%]{margin:16px auto}.add-button[_ngcontent-%COMP%]{width:100%;color:var(--black);border:1px solid var(--black);background:var(--white);font-size:14px;height:28px}.equipment-detail[_ngcontent-%COMP%]{width:90%;margin:4px auto}.equipment-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:36px;font-size:14px;font-weight:500}.equipment-detail[_ngcontent-%COMP%]   .detial[_ngcontent-%COMP%]{flex:3}.equipment-detail[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{display:inline-block;text-align:center;line-height:20px;width:20px;height:20px;font-size:14px;font-weight:600;color:var(--danger);background-color:inherit;border-radius:50%;border:1px solid var(--danger)}"]}),F)},{}],Z=((A=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:A}),A.\u0275inj=s.Gb({factory:function(e){return new(e||A)},imports:[[o.b,a.g.forChild(T)]]}),A),X=n("j1ZV"),K=((S=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:S}),S.\u0275inj=s.Gb({factory:function(e){return new(e||S)},imports:[[o.b,Z,c.o,c.h,c.o,X.a,d.b]]}),S)}}]);